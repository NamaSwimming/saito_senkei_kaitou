\usepackage{cite}

%括弧
\usepackage{delimseasy}

%二段組
\usepackage{multicol}
\setlength{\columnseprule}{.5pt} %中央の線

%見出しのフォント
\renewcommand{\headfont}{\sffamily\bfseries}


%数式
\usepackage{nccmath,amsmath,amssymb}
\usepackage{mathtools}
\usepackage{empheq} %数式の囲いに使う
\usepackage{physics}
\usepackage{bm}
\usepackage[bbsets]{jkmath} %\Nなどをつかえる
\usepackage{amsthm}

% xcolorをロード
\usepackage{titletoc}
\usepackage{xcolor}

% 色を定義
\definecolor{BlueViolet}{RGB}{105,39,255}
\definecolor{mylightgray}{HTML}{DDDDDD}
\definecolor{mydarkgray}{HTML}{777777}

% ハイパーリンク用
\usepackage{url}

% hyperrefをロード
\usepackage[dvipdfmx,hidelinks]{hyperref}
\usepackage[otfcid,otfmacros]{pxjahyper}
\usepackage{bookmark}

\hypersetup{
  colorlinks=true,
  citecolor=BlueViolet,
  linkcolor=blue!50!black,
  urlcolor=blue!70!black,
}


%tcolorbox系
\usepackage[many]{tcolorbox}
\tcbuselibrary{breakable,skins,theorems}
\newtcolorbox{hosoibox}[1]{colframe=black,colback=white,coltitle=black,colbacktitle=white,boxrule=0.5pt,arc=0mm,enhanced,attach boxed title to top left={xshift=10mm,yshift=-3mm},boxed title style={frame hidden},title=#1}

%leftbar環境に注釈が入れられないことを解消する環境．名前は，tcolorboxの[t]とleftbarの組み合わせ
\newtcolorbox{tbleftline}{blanker,left=5mm,borderline west={1.1mm}{0pt}{mydarkgray}}
\newenvironment{tleftbar}{\begin{tbleftline}\setlength{\parindent}{1zw}}{\end{tbleftline}}


\usepackage{framed,color}

% leftbar環境の色を変更
\makeatletter
\renewenvironment{leftbar}{%
  \def\FrameCommand{%
    {\color{mydarkgray}\vrule width 3pt}%
    \hspace{10pt}%
    \fboxsep=\FrameSep\colorbox{white}}%
  \MakeFramed{\hsize\hsize\advance\hsize-\width\FrameRestore}%
}{%
  \endMakeFramed%
}
\makeatother

%題名付き四角
\usepackage{ascmac}
\usepackage{fancybox}

%図に使うもの
\usepackage{tikz}
\usetikzlibrary{cd}
\usepackage[dvipdfmx,marginparwidth=0pt,margin=25truemm]{geometry}
\usepackage{bxpapersize}
\usepackage[absolute,overlay]{textpos} %図の配置を好きにする

%画像
\usepackage{wrapfig}
%footnoteの変更
\renewcommand\thefootnote{{\dag}\arabic{footnote}}
\renewcommand{\thempfootnote}{{\dag}\arabic{mpfootnote}}
\interfootnotelinepenalty=10000

\usepackage{oubraces} %overunderbraces

%underbraceの文字数が多いときのためのadunderbrace
\usepackage{ifthen}
\newlength{\wdTempA}
\newlength{\wdTempB}
\newcommand{\adunderbrace}[2]{%
\settowidth{\wdTempA}{$#1$}%
\settowidth{\wdTempB}{${\scriptstyle #2}$}%
\ifthenelse{\wdTempA<\wdTempB}{%
\hspace*{.5\wdTempA}\hspace*{-.5\wdTempB}%
\underbrace{#1}_{#2}%
\hspace*{.5\wdTempA}\hspace*{-.5\wdTempB}%
}{%
\underbrace{#1}_{#2}%
}%
}%
%丸付き文字
\newcommand{\ctext}[1]{\raise0.2ex\hbox{\textcircled{\scriptsize{#1}}}}

%ユーザー定義
\newcommand{\dash}[1]{#1^\prime}
\newcommand{\ddash}[1]{#1^{\prime\prime}}
\newcommand{\dddash}[1]{#1^{\prime\prime\prime}}
\newcommand{\hodash}[2]{#2^{(#1)}}
\renewcommand{\labelenumi}{(\arabic{enumi})}%itemを(数字)に変更
\newcommand{\two}{I\hspace{-1.2pt}I}
\newcommand{\three}{I\hspace{-1.2pt}I\hspace{-1.2pt}I}
\renewcommand{\proofname}{\textgt{証明}}
\renewcommand{\qed}{\unskip\nobreak\quad\qedsymbol}

\renewcommand{\baselinestretch}{1.2}

\newcommand\kakko[1]{\noindent\textbf{《#1》}}

\DeclareMathOperator{\sgn}{sgn}
%タイトルページを定義
\usepackage[pagecolor=white,nopagecolor={none}]{pagecolor} % 背景色を変更するためのパッケージ

\newcommand{\tituloum}[5]{\begin{titlepage} 
    \begin{center} 
        \pagecolor{white} % 背景色をBlueVioletに設定
        \color{black} % テキストカラーを白に設定
        
        \vspace*{2\baselineskip}
        
        \rule{\textwidth}{1.6pt}\vspace*{-\baselineskip}\vspace*{2pt} 
        \rule{\textwidth}{0.4pt} 
        
        \vspace{0.75\baselineskip} 
        
        {\huge #1} 
        
        \vspace{0.75\baselineskip}
        
        \rule{\textwidth}{0.4pt}\vspace*{-\baselineskip}\vspace{3.2pt}
        \rule{\textwidth}{1.6pt}
        
        \vspace{2\baselineskip}
        
        #3
        
        \vspace*{3\baselineskip}
        
        
        {\huge #2}
        
        \vspace{0.5\baselineskip}
        
        \textit{#4}
        
        \vfill
        
        \vspace{0.3\baselineskip}
        
        #5
        
    \end{center}
\end{titlepage}}

% 数式のディスプレイスタイル設定
\everymath{\displaystyle}


%箇条書き
\usepackage[shortlabels]{enumitem}

%inputなどのプリアンブルを無視
\usepackage{docmute}

\everymath{\displaystyle}


%新設定2
\definecolor{burgundy}{rgb}{0.5, 0.0, 0.13}
\tcbset{mytheo/.style={fonttitle=\gtfamily\sffamily\bfseries\upshape,
enhanced,colframe=burgundy,colback=burgundy!2!white,colbacktitle=burgundy,
boxed title style={},
attach boxed title to top left={xshift=5mm,yshift*=-\tcboxedtitleheight/2},
before skip=25pt plus 2pt,
after skip=15pt plus 2pt
}}

%Theorem
\newtcbtheorem[number within=subsection]{theorem}{Theorem}%
{mytheo}{th}
\newcommand{\thref}[1]{{\bfseries\sffamily Theorem \ref{th:#1}}}
%Proposition
\newtcbtheorem[use counter from=theorem]{prop}{Proposition}%
{mytheo}{pr}
\newcommand{\prref}[1]{{\bfseries\sffamily Proposition \ref{pr:#1}}}
%Corollary
\newtcbtheorem[use counter from=theorem]{cor}{Corollary}%
{mytheo}{co}
\newcommand{\coref}[1]{{\bfseries\sffamily Corollary \ref{co:#1}}}
% Axiom
\newtcbtheorem[use counter from=theorem]{axiom}{Axiom}%
{mytheo}{ax}
\newcommand{\axref}[1]{{\bfseries\sffamily Axiom \ref{ax:#1}}}
%Definition
\newtcbtheorem[use counter from=theorem]{definition}{Definition}%
{mytheo,
colframe=blue!50!black,colback=blue!50!black!2!white,colbacktitle=blue!50!black,borderline south={2pt}{-2pt}{blue!50!black},}{de}
\newcommand{\deref}[1]{{\bfseries\sffamily Definition \ref{de:#1}}}
%Lemma
\newtcbtheorem[use counter from=theorem]{lemma}{Lemma}%
{mytheo,
colframe=green!50!black,colback=green!50!black!2!white,colbacktitle=green!50!black,borderline south={2pt}{-2pt}{green!50!black},}{le}
\newcommand{\leref}[1]{{\bfseries\sffamily Lemma \ref{le:#1}}}
%Example
\definecolor{charcoal}{rgb}{0.21, 0.27, 0.31}
\newtcbtheorem[use counter from=theorem]{example}{Example}%
{mytheo,
colframe=charcoal,colback=charcoal!2!white,colbacktitle=charcoal,borderline south={2pt}{-2pt}{charcoal},}{ex}
\newcommand{\exref}[1]{{\bfseries\sffamily Example \ref{ex:#1}}}

